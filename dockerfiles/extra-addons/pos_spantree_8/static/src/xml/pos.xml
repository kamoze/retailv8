<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    
	<t t-extend="ProductScreenWidget">
		<t t-jquery="tr.header-row" t-operation="before">
		    <tr class="selection-area">
		        <td style="padding-left: 5px;text-align:left;">
		            <span class='button_select' id="sale_mode" style="background: red;">
		               Sale Mode
		            </span>
		            <span class='button_select' id="missing_return_order">
		               Missing Order Receipt
		            </span>
		            <span class='button_select' id="return_order">
		               Return Mode
		            </span>
		            <span id="return_order_ref" style="color: #FFF;">
		            </span>
		            <span class='button_select' id="create_coupon">
	                    Create Coupon
	                </span>
	                    <span style="color:#FFF;" id="coupon_name">
                    </span>
		        </td>
		    </tr>
		</t>
	</t>
	<t t-name="pos-return-order">
	    <table align="center">
	        <tr>
	            <td>Return Order </td>
	            <td style="padding-left: 5px;">
	                <input type="text" name="return_order_number" id="return_order_number" value="" style="width: 180px;"/>
	            </td>
	        </tr>
	    </table>
	</t>

    <t t-name="pos-assign_serial">
	    <table align="center">
	        <tr>
	            <td>Serial No. </td>
	            <td style="padding-left: 5px;">
	                <input type="text" autofocus="autofocus" name="pos_serial" id="pos_serial" value="" style="width: 180px;"/>
	            </td>
	        </tr>
	    </table>
	</t>
	
	<t t-name="PaypadButtonWidget">
		<t t-if="widget.cashregister.journal.pos_front_display">
			<button class="paypad-button" t-att-cash-register-id="widget.cashregister.id">
		        <t t-esc="widget.cashregister.journal.name"/>
		    </button>
	    </t>
	</t>
	
	<t t-name="pos-create-coupon">
		<table align="center">
		    <tr>
		        <td style="padding-top: 5px;">Coupon Name </td>
		        <td style="padding-left: 5px;padding-top: 5px;">
		            <input type="text" name="coupon_name" id="coupon_name" value="" style="margin-left:10px;width: 160px;"/>
		        </td>
		    </tr>
		    <tr>
		        <td style="padding-top: 5px;">Issue Date </td>
		        <td style="padding-left: 5px;padding-top: 5px;">
		            <input type="text" name="coupon_issue_date" id="coupon_issue_date" value="" placeholder="YYYY-MM-DD" style="margin-left:10px;width: 160px;"/>
		        </td>
		    </tr>
		    <tr>
		        <td style="padding-top: 5px;">Validity Days </td>
		        <td style="padding-left: 5px;padding-top: 5px;">
		        	<input type="text" name="coupon_validity" id="coupon_validity" value="" style="margin-left:10px;width: 160px;"/>
		        </td>
		    </tr>
		</table>
	</t>
	
	<!-- Gift Coupon Popup -->
	<t t-name="pay_gift_coupon_info">
	    <table>
	        <tr>
	            <td style="padding: 5px;">Barcode: </td>
	            <td style="padding: 5px;">
	                <input type="text" name="gift_coupon_barcode_pay" id="gift_coupon_barcode_pay" value="" style="width: 180px;"/>
	            </td>
	        </tr>
	        <tr><td style="padding: 5px;">Remaining Amount:</td>
		        <td style="padding: 5px;">
		            <span id="remain_gift_coupon_bal"/>
		        </td>
		    </tr>
	        <!--<tr>
	            <td style="padding: 5px;">Amount: </td>
	            <td style="padding: 5px;">
	                <input type="text" name="gift_coupon_barcode_amt" id="gift_coupon_barcode_amt" value="" style="width: 180px;"/>
	            </td>
	            <td style="padding: 5px;"></td>
	        </tr>-->
	    </table>
	</t>
	
	<!-- Redeem Coupon Popup -->
	<t t-name="pay_redeem_coupon_info">
	    <table>
	        <tr>
	            <td style="padding: 5px;">Remaining Amount: </td>
	            <td style="padding: 5px;">
	                <span class="remain_redeem_input"/>
	            </td>
	        </tr>
	        <tr>
	            <td style="padding: 5px;">Amount: </td>
	            <td style="padding: 5px;">
	                <input type="text" name="redeem_barcode_amt" id="redeem_barcode_amt" value="" style="width: 180px;"/>
	            </td>
	            <td style="padding: 5px;"></td>
	        </tr>
	    </table>
	</t>
	
	<t t-extend="PaymentScreenWidget">
	    <t t-jquery="div.payment-lines" t-operation="before">
	        <div id="all_coupon_buttons" style="padding-top:5px; width:100% !important;">
		    	<table id="all_buttons_table">
		    		<tr>
						<td style="padding-right:5px;padding-bottom:5px;">
							<button type="button" id="add_gift_coupon" style="font-size:13px;font-weight:bold;height:30px !important;padding:0 7px;">
								Add Gift Coupon
							</button>
						</td>
						<td style="padding-left:5px;padding-right:5px;padding-bottom:5px;">
							<button type="button" id="add_redeem_coupon" style="font-size:13px;font-weight:bold;height:30px !important;padding:0 7px;">
								Add Redeem Coupon
							</button>
						</td>
					</tr>
				</table>
		    </div>
		    <!-- Add product coupon -->
		    <div id="pay_by_coupon_div">
				<table id="pay_by_coupon_table">
					<tr>
						<td style="padding-bottom:5px;">
							Gift Coupons
						</td>
						<td style="padding:5px;"></td>
						<td style="padding:5px;"></td>
					</tr>
				</table>
			</div>
			<div id="pay_by_loyalty_div">
				<table id="pay_by_loyalty_table">
					<tr>
						<td style="padding-bottom:5px;">
							Redeem Point:
						</td>
						<td style="padding:5px;"></td>
						<td style="padding:5px;"></td>
					</tr>
				</table>
			</div>
	    </t>
	</t>
	
	<t t-extend="Orderline">
		<t t-jquery="ul.info-list" t-operation="replace">
	        <ul class="info-list">
	            <t t-if="line.get_quantity_str() !== '1' || line.selected ">
	                <li class="info">
	                    <em>
	                        <t t-esc="line.get_quantity_str()" />
	                    </em>
	                    <t t-esc="line.get_unit().name" />
	                    at
	                    <t t-esc="widget.format_currency(line.get_unit_price())" />
	                    /
	                    <t t-esc="line.get_unit().name" />
	                </li>
	            </t>
	            <t t-if="line.get_serial() != null">
	                <li class="info">
	                    Serial No: 
	                    <em>
	                        <t t-esc="line.get_serial()" />
	                    </em>
	                </li>
	            </t>
	            <t t-if="line.get_discount_str() !== '0'">
	                <li class="info">
	                    With a 
	                    <em>
	                        <t t-esc="line.get_discount_str()" />%
	                    </em>
	                    discount
	                </li>
	            </t>
	        </ul>
	    </t>
	</t>
	
	<t t-extend="PosTicket">
		<t t-jquery=".pos-sale-ticket" t-operation="replace">
		    <div class="pos-sale-ticket">
		        <div class="pos-center-align"><t t-esc="new Date().toString(Date.CultureInfo.formatPatterns.shortDate + ' ' +
		            Date.CultureInfo.formatPatterns.longTime)"/> <t t-esc="order.get('name')"/></div>
		        <br />
		        <t t-esc="widget.pos.company.name"/><br />
		        Phone: <t t-esc="widget.pos.company.phone || ''"/><br />
		        Cashier: <t t-esc="widget.pos.cashier ? widget.pos.cashier.name : widget.pos.user.name"/><br />
		        Shop: <t t-esc="widget.pos.shop.name"/><br />
		        Customer: <t t-esc="order.get_client_name()"/><br/>
		        <br />
		        <t t-if="widget.pos.config.receipt_header">
		            <div style='text-align:center'>
		                <t t-esc="widget.pos.config.receipt_header" />
		            </div>
		            <br />
		        </t>
		        <table>
		            <colgroup>
		                <col width='50%' />
		                <col width='25%' />
		                <col width='25%' />
		            </colgroup>
		            <tr t-foreach="orderlines" t-as="orderline">
		                <td>
		                    <t t-esc="orderline.get_product().display_name"/>
		                    <t t-if="orderline.get_discount() > 0">
		                        <div class="pos-disc-font">
		                            With a <t t-esc="orderline.get_discount()"/>% discount
		                        </div>
		                    </t>
		                    <t t-if="orderline.get_serial() > 0">
		                        <div class="pos-disc-font">
		                            Serial No: <t t-esc="orderline.get_serial()"/>
		                        </div>
		                    </t>
		                </td>
		                <td class="pos-right-align">
			                <t t-if="orderline.get_oid()">
		                    	-<t t-esc="orderline.get_quantity_str_with_unit()"/>
		                    </t>
		                    <t t-if="!orderline.get_oid()">
		                    	<t t-esc="orderline.get_quantity_str_with_unit()"/>
		                    </t>
		                </td>
		                <td class="pos-right-align">
			                <t t-if="orderline.get_oid()">
		                    	-<t t-esc="widget.format_currency(orderline.get_display_price())"/>
		                    </t>
		                    <t t-if="!orderline.get_oid()">
		                    	<t t-esc="widget.format_currency(orderline.get_display_price())"/>
		                    </t>
		                </td>
		            </tr>
		        </table>
		        <br />
		        <table>
		        	<t t-if="order.get_coupon_amount()">
				        <tr>
				        	<td>Coupon:
				        	</td>
					        <td class="pos-right-align">
				            	<span id="coupon_amount"><t t-esc="widget.format_currency(order.get_coupon_amount())"/></span>
				            </td>
				        </tr>
				    </t>
		            <tr>
		                <td>Subtotal:</td>
		                <td class="pos-right-align">
			                <t t-if="order.get_ret_o_id()">
		                    	-<t t-esc="widget.format_currency(order.getSubtotal())"/>
		                    </t>
		                    <t t-if="!order.get_ret_o_id()">
		                    	<t t-esc="widget.format_currency(order.getSubtotal())"/>
		                    </t>
		                </td>
		            </tr>
		            <t t-foreach="order.getTaxDetails()" t-as="taxdetail">
		                <tr>
		                    <td><t t-esc="taxdetail.name" /></td>
		                    <td class="pos-right-align">
		                        <t t-esc="widget.format_currency(taxdetail.amount)" />
		                    </td>
		                </tr>
		            </t>
		            <tr>
		                <td>Discount:</td>
		                <td class="pos-right-align">
		                    <t t-esc="widget.format_currency(order.getDiscountTotal())"/>
		                </td>
		            </tr>
		            <tr class="emph">
		                <td>Total:</td>
		                <td class="pos-right-align">
			                <t t-if="order.get_ret_o_id()">
		                    	-<t t-esc="widget.format_currency(order.getTotalTaxIncluded())"/>
		                    </t>
		                    <t t-if="!order.get_ret_o_id()">
		                    	<t t-esc="widget.format_currency(order.getTotalTaxIncluded())"/>
		                    </t>
		                </td>
		            </tr>
		        </table>
		        <br />
		        <table>
		            <tr t-foreach="paymentlines" t-as="line">
		                <td>
		                    <t t-esc="line.name"/>
		                </td>
		                <td class="pos-right-align">
		                    <t t-esc="widget.format_currency(line.get_amount())"/>
		                </td>
		            </tr>
		        </table>
		        <br />
		        <table>
		            <tr><td>Change:</td><td class="pos-right-align">
		            	<t t-esc="widget.format_currency(order.getChange())"/>
	                </td></tr>
		        </table><br/>
		        <div id="barcode1" width="280" height="80"/><br/>
		        <table id="barcode_table" style="width:100%">
	                <tbody></tbody>
	            </table>
		        <t t-if="widget.pos.config.receipt_footer">
		            <br />
		            <div style='text-align:center'>
		                <t t-esc="widget.pos.config.receipt_footer" />
		            </div>
		        </t>
		    </div>
		</t>
	</t>

</templates>
